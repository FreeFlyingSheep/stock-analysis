# Stock Analysis Application Configuration
#
# This file contains environment variables for configuring the stock analysis
# application. Copy this file to .env and modify the values as needed.
#
# Usage:
#   cp .env.example .env
#   # Edit .env with your actual configuration values
#
# Security Note:
#   Never commit the .env file to version control as it may contain
#   sensitive credentials.

# ==============================================================================
# Database / Data Store Configuration
# ==============================================================================
# These settings configure the PostgreSQL and MinIO connection.

# Database username for authentication (required)
DATABASE_USER=postgres

# Database password for authentication (required)
DATABASE_PASSWORD=password

# Database server hostname or IP address (required)
DATABASE_HOST=127.0.0.1

# Database server port number (required)
DATABASE_PORT=5432

# Name of the database to use (required)
DATABASE_DB=stock_analysis

# MinIO root user for authentication (required)
MINIO_USER=minioadmin

# MinIO root password for authentication (required)
MINIO_PASSWORD=minioadmin

# MinIO server hostname or IP address (required)
MINIO_HOST=127.0.0.1

# MinIO server port number (required)
MINIO_PORT=9000

# MinIO console port number (required)
MINIO_CONSOLE_PORT=9001

# MinIO data directory (required)
MINIO_DATA_DIR=data/minio

# MinIO bucket prefix for storing data (required)
# MinIO bucket names must follow DNS naming conventions (no underscores)
MINIO_BUCKET_PREFIX=stock-analysis-

# MinIO secure connection (required)
# Options: true, false
MINIO_SECURE=false

# ==============================================================================
# Redis Configuration
# ==============================================================================
# These settings configure the Redis connection for caching.

# Redis server hostname or IP address (required)
REDIS_HOST=127.0.0.1

# Redis server port number (required)
REDIS_PORT=6379

# Prefix for Redis keys (required)
# Ensure this prefix only contains valid characters for Redis keys
REDIS_PREFIX=stock-analysis

# ==============================================================================
# Backend Configuration
# ==============================================================================
# These settings control the backend behavior and logging.

# Path to the configuration directory (required)
# Specify the directory where CNInfo configuration files are located
CONFIG_DIR=configs/api/cninfo

# Path to the rule configuration file (required)
# Specify the file path where the rule YAML file is located
RULE_FILE_PATH=configs/rules/scoring_rules_sample.yaml

# Path to the prompts directory (required)
# Specify the directory where prompts are located
PROMPTS_DIR=configs/prompts

# Enable or disable debug mode (required)
# Options: true, false
# Warning: Do not enable debug mode in production environments
DEBUG=false

# Logging level for the application (required)
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# - DEBUG: Detailed information for diagnosing problems
# - INFO: Confirmation that things are working as expected
# - WARNING: Indication of potential problems
# - ERROR: Serious problems that need attention
# - CRITICAL: Critical problems that may cause the application to abort
LOG_LEVEL=INFO

# Log file path for the application (optional)
# Specify the file where logs should be written
LOG_FILE=./logs/app.log

# Host address for the backend to bind to (required)
# Use 0.0.0.0 to accept connections from any network interface
BACKEND_HOST=127.0.0.1

# Port number for the backend to listen on (required)
# Ensure this port is not already in use by another application
BACKEND_PORT=8000

# ==============================================================================
# Worker Configuration
# ==============================================================================
# These settings configure the background worker processes.

# Logging level for the worker (required)
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# - DEBUG: Detailed information for diagnosing problems
# - INFO: Confirmation that things are working as expected
# - WARNING: Indication of potential problems
# - ERROR: Serious problems that need attention
# - CRITICAL: Critical problems that may cause the application to abort
WORKER_LOG_LEVEL=INFO

# Log file path for the worker (optional)
# Specify the file where logs should be written
WORKER_LOG_FILE=./logs/worker.log

# Number of tasks to process in a single batch (required)
# Adjust this value based on system capabilities and workload
BATCH_SIZE=2

# Maximum number of concurrent tasks the worker can handle (required)
# Adjust this value based on system capabilities and workload
# Ensure this number be greater than twice the BATCH_SIZE
MAX_CONCURRENT_TASKS=5

# ==============================================================================
# LLM Configuration
# ==============================================================================
# These settings configure the online LLM server connection.

# Enable or disable the use of online LLM for LLM tasks (required)
# Options: true, false
USE_LLM=false

# LLM API key (required if USE_LLM is true)
LLM_API_KEY=

# LLM server base URL (required if USE_LLM is true)
LLM_SERVER_BASE_URL=https://api.siliconflow.cn/v1

# LLM model name (required if USE_LLM is true)
LLM_MODEL=Qwen/Qwen3-8B

# LLM embedding model name (required if USE_LLM is true)
LLM_EMBEDDING_MODEL=netease-youdao/bce-embedding-base_v1

# ==============================================================================
# MCP Configuration
# ==============================================================================
# These settings configure the MCP server connection.

# MCP server base URL (required if USE_LLM is true)
MCP_HOST=127.0.0.1

# MCP server port number (required if USE_LLM is true)
MCP_PORT=8001

# ==============================================================================
# Frontend Configuration
# ==============================================================================
# These settings configure the user interface behavior.

# Host address for the UI to bind to (required)
FRONTEND_HOST=127.0.0.1

# Port number for the UI to listen on (required)
# Ensure this port is not already in use by another application
FRONTEND_PORT=3000
